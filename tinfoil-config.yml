shim-version: v0.2.5@sha256:ffdc7ca8e1a974c318533262c072b2c6c0871431b1e951fde7692388b5854cc3
cvm-version: 0.5.6
ovmf-version: 0.0.2
cpus: 8
memory: 65536
vllm: false

models:
  - name: "gpt-oss-120b"
    repo: "openai/gpt-oss-120b@b5c939de8f754692c1647ca79fbf85e8c1e70f8a"
    mpk: "db5daddec41a3be3b51d1f4d009fb0e9b1243c2765e2bc5121acac79ab070a72_195764056064_0eefa619-50b7-588f-a072-d405fb439d36"

containers:
  - name: "gpt-oss-120b"
    image: ""
    args: [
      "--runtime", "nvidia",
      "--gpus", "all",
      "--ipc", "host",
      "-e", "EXA_API_KEY=$(awk -F': *' '$1~/^exa-api-key$/{print $2; exit}' /mnt/ramdisk/external-config.yml)",
      "ghcr.io/tinfoilsh/vllm-openai-gpt-oss:v0.0.3",
      "--model", "/tinfoil/mpk/mpk-db5daddec41a3be3b51d1f4d009fb0e9b1243c2765e2bc5121acac79ab070a72",
      "--served-model-name", "gpt-oss-120b",
      "--enable-auto-tool-choice",
      "--tool-call-parser", "openai",
      "--tool-server", "demo",
      "--gpu-memory-utilization", "0.95",
      "--port", "8001"
    ]

shim:
  listen-port: 443
  upstream-port: 8001
  publish-attestation: false
  tls-challenge: dns
  control-plane: https://api.tinfoil.sh
  paths:
    - /v1/chat/completions
    - /metrics
    - /v1/responses
